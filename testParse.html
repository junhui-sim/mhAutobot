<html>
<head>
<script src="http://www.parsecdn.com/js/parse-1.3.4.min.js"></script>
</head>
<body>
<script type="text/javascript">
Parse.initialize("1YK2gxEAAxFHBHR4DjQ6yQOJocIrtZNYjYwnxFGN", "LFJJnSfmLVSq2ofIyNo25p0XFdmfyWeaj7qG5c1A");
/*Parse.Cloud.run('clearDouble', {}, {
	success: function(result) {
		console.log(result);
		console.log(result.createdAt);
	},
	error: function(error) {
		console.log("Error " + error.code + ": " + error.message);
	}
});*/
console.log("START");
//Parse.User.logOut();

/*var query = new Parse.Query(Parse.User);
query.equalTo("username", "NobodyRandom");
query.find({
	success: function(users) {
		for(var i=0; i < users.length; i++){
			var theUser = users[i];
			console.log(theUser);
		}
	}
});*/

Parse.User.logIn('NobodyRandom', 'Abcd1234').then(function (user) {
    Parse.Cloud.run('sendKRemail', {
        theEmail: 'iamnobodyrandom@yahoo.com',
        user: 'Test'
    }, {
    success: function (data) {
        console.log(data);
    }, error: function (error) {
        console.log(error);
    }
    });

    /*var queryRole = new Parse.Query(Parse.Role);
    queryRole.equalTo('name', 'TheUsers');
     return queryRole.first();
     }).then(function (role) {
     role.getRoles().add((new Parse.Query(Parse.Role)).equalTo('name','Administrator').first());
     return role.save();
     }).then(function (tb) {
     console.log(tb);*/

    /*var administrator = (new Parse.Query(Parse.Role)).equalTo('name', 'Administrator').first();
    var roleACL = new Parse.ACL();
    roleACL.setPublicReadAccess(false);
    roleACL.setPublicWriteAccess(false);
    roleACL.setRoleReadAccess('Administrator', true);
    roleACL.setRoleWriteAccess('Administrator', true);
    var role = new Parse.Role('TheUsers', roleACL);
    //role.getUsers().add('NobodyRandom');
    role.getRoles().add(administrator);
     role.save();*/
    
}, function (error) {
    console.log(error.message);
});

console.log("DONE");
</script>
</body>
</html>